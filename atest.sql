zte1.present_users_view AS select u.id AS user_id,u.user_name AS user_name,u.promoter_name AS promoter_name,u.promoter_phone AS promoter_phone,u.shop AS shop,u.role AS role,max(a.id) AS attendance_id,max(a.present) AS presentt,(case when (max(a.present) = 'Yes') then 'Yes' else 'No' end) AS present,max(zte1.a.absent) AS absent,max(zte1.a.location) AS location,max(zte1.a.latitude) AS latitude,max(zte1.a.longitude) AS longitude,max(zte1.a.remark) AS remark,max(zte1.a.attendance_time) AS attendance_time,coalesce(cast(max(zte1.a.attendance_time) as date),dates.date) AS attendance_date from ((zte1.users u join (select distinct cast(att.attendance_time as date) AS date from zte1.attendance_sheet att) dates) left join zte1.attendance_sheet a on(((zte1.u.id = zte1.a.user_id) and (cast(zte1.a.attendance_time as date) = dates.date)))) where (zte1.u.role = 2) group by zte1.u.id,dates.date